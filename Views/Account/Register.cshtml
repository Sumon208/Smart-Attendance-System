@model Smart_Attendance_System.Models.ViewModel.RegistrationViewModel

@{
    ViewData["Title"] = "Register";
    Layout = "_Layout";
}

<style>
    /* Updated styles to match the new design with all fields */
    body {
        background-color: #f7f9fc;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    .registration-container {
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        padding: 20px;
    }

    .registration-box {
        display: flex;
        width: 100%;
        max-width: 900px;
        background-color: #fff;
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
        overflow: hidden;
    }

    .registration-form-section {
        flex: 1;
        padding: 40px;
    }

    .registration-image-section {
        flex: 1;
        background-color: #f7f9fc;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        padding: 40px;
        position: relative;
        overflow: hidden;
    }

        .registration-image-section .illustration {
            width: 100%;
            height: auto;
            max-width: 400px;
        }

        .registration-image-section::before,
        .registration-image-section::after {
            content: '';
            position: absolute;
            border-radius: 50%;
            opacity: 0.1;
        }

        .registration-image-section::before {
            width: 300px;
            height: 300px;
            background-color: #0d6efd;
            top: -50px;
            right: -50px;
        }

        .registration-image-section::after {
            width: 200px;
            height: 200px;
            background-color: #0d6efd;
            bottom: -30px;
            left: -30px;
        }

    h2.title {
        color: #333;
        font-weight: 600;
        margin-bottom: 5px;
    }

    p.subtitle {
        color: #777;
        margin-bottom: 30px;
    }

    .form-group {
        position: relative;
        margin-bottom: 20px;
    }

    .form-control-with-icon {
        padding-left: 45px;
    }

    .form-group .icon {
        position: absolute;
        left: 15px;
        top: 50%;
        transform: translateY(-50%);
        color: #6c757d;
        font-size: 18px;
        pointer-events: none; /* Make the icon un-clickable */
    }

    .form-group input:focus + .icon,
    .form-group select:focus + .icon {
        color: #0d6efd;
    }

    .form-group label {
        display: block;
        font-weight: 500;
        color: #333;
        margin-bottom: 5px;
    }

    .form-group input[type="file"] {
        padding-left: 15px;
    }

        .form-group input[type="file"] + label {
            margin-bottom: 5px;
        }

    .btn-custom {
        width: 100%;
        padding: 12px;
        border-radius: 8px;
        background-color: #f08d3e;
        color: #fff;
        font-weight: 600;
        border: none;
        transition: background-color 0.3s;
    }

        .btn-custom:hover {
            background-color: #e07b2b;
        }

    .login-link {
        text-align: center;
        margin-top: 20px;
        font-size: 0.9rem;
    }

        .login-link a {
            color: #f08d3e;
            text-decoration: none;
            font-weight: 600;
        }

            .login-link a:hover {
                text-decoration: underline;
            }

    #photoPreview {
        max-width: 100px;
        border-radius: 8px;
        margin-top: 10px;
        display: none;
    }

    @@media (max-width: 768px) {
        .registration-box

    {
        flex-direction: column;
    }

    .registration-image-section {
        display: none;
    }

    }
</style>

<div class="registration-container">
    <div class="registration-box">
        <div class="registration-form-section">
            <h2 class="title">Create Account</h2>
            <p class="subtitle">Please fill your personal details to register.</p>

            <form asp-action="Register" enctype="multipart/form-data">
                <div asp-validation-summary="ModelOnly" class="text-danger mb-3"></div>

                <div class="form-group">
                    <span class="icon fas fa-user"></span>
                    <input asp-for="EmployeeName" class="form-control form-control-with-icon" placeholder="Full Name" />
                    <span asp-validation-for="EmployeeName" class="text-danger small"></span>
                </div>

                <div class="form-group">
                    <span class="icon fas fa-id-badge"></span>
                    <input asp-for="EmployeeId" class="form-control form-control-with-icon" placeholder="Employee ID" />
                    <span asp-validation-for="EmployeeId" class="text-danger small"></span>
                </div>

                <div class="form-group">
                    <span class="icon fas fa-envelope"></span>
                    <input asp-for="Email" type="email" class="form-control form-control-with-icon" placeholder="Email Address" />
                    <span asp-validation-for="Email" class="text-danger small"></span>
                </div>

                <div class="form-group">
                    <span class="icon fas fa-lock"></span>
                    <input asp-for="Password" type="password" class="form-control form-control-with-icon" placeholder="Password" />
                    <span asp-validation-for="Password" class="text-danger small"></span>
                </div>

                <div class="form-group">
                    <span class="icon fas fa-lock"></span>
                    <input asp-for="ConfirmPassword" type="password" class="form-control form-control-with-icon" placeholder="Confirm Password" />
                    <span asp-validation-for="ConfirmPassword" class="text-danger small"></span>
                </div>

                <div class="form-group">
                    <span class="icon fas fa-building"></span>
                    <select asp-for="DepartmentId" class="form-select form-control-with-icon" asp-items="ViewBag.Departments">
                        <option value="">Select Department</option>
                    </select>
                    <span asp-validation-for="DepartmentId" class="text-danger small"></span>
                </div>

                <div class="form-group">
                    <label for="EmployeePhotoFile">Upload Photo</label>
                    <input type="file" name="EmployeePhotoFile" class="form-control" accept="image/*" onchange="previewPhoto(event)" />
                    <img id="photoPreview" class="d-none" alt="Photo Preview" />
                </div>

                <div class="form-group">
                    <label for="CertificateFile">Upload Offer Letter</label>
                    <input type="file" name="CertificateFile" class="form-control" accept=".pdf,.jpg,.jpeg,.png" />
                </div>

                <button type="submit" class="btn-custom">Register</button>

                <div class="login-link">
                    <a asp-action="Login">Already have an account? Log in</a>
                </div>
            </form>
        </div>
        <div class="registration-image-section">
            <img class="illustration" src="~/images/register-illustration.jpg" alt="Register Illustration" />
        </div>
    </div>
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }

    <script>
        function previewPhoto(event) {
            var reader = new FileReader();
            reader.onload = function(){
                var output = document.getElementById('photoPreview');
                output.src = reader.result;
                output.classList.remove('d-none');
            };
            reader.readAsDataURL(event.target.files[0]);
        }
    </script>
}